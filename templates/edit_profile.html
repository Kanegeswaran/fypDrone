{% extends 'base.html' %}

{% block body %}  
<link rel="stylesheet" href="/static/admin.css">

<script>
    function validatePassword() {
        var password = document.getElementById("edit_password").value;
        var confirmPassword = document.getElementById("edit_password_confirm").value;
        
        if (password !== confirmPassword) {
            alert("Passwords do not match.");
            return false; // Prevent form submission
        }
        return true;
    }
</script>

<div class="mycontainer px-0 py-0">
    <div class="container p-0">
        <div class="row">
            <div class="container">
                <div class="err_msg">{{ err_msg }}</div>
                <form action="{{ url_for('update_profile') }}" method="post" class="edit-profile-form" onsubmit="return validatePassword()">
                    <h2>Edit Profile</h2>
                    <div class="form-group">
                        <label for="edit_username">New Username:</label>
                        <input type="text" id="edit_username" name="username" value="{{session.username}}" required>
                    </div>
                    <div class="form-group">
                        <label for="edit_password">New Password:</label>
                        <input type="password" id="edit_password" name="password" required>
                    </div>
                    <div class="form-group">
                        <label for="edit_password_confirm">Confirm New Password:</label>
                        <input type="password" id="edit_password_confirm" name="password_confirm" required>
                    </div>
                    <div class="form-group">
                        <input type="submit" value="Update Profile">
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock %}
