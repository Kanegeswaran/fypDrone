{% extends 'base.html' %}

{% block body %}  

<div class="mycontainer px-0 py-0 background-img">
    <div class="container p-0">
    <style>
        .container {
        width: 1200px;
        height: 1000px;
        }
    </style>
        <div class="row">   
            <div class="container">
                <h1 class="mb-4" id="thetitle" 
                        style="font-weight: bold; text-align: center; font-size: 15;">
                    DRONE POV !
                </h1>
                <label for="rtmpURL" id="labelrtmpURL"> Enter RTMP URL: </label>
                <input type="text" name="rtmpURL" placeholder="RTMP URL" id="rtmpURL" required>
                <button id="submitButton" onclick="submitURL()"
                        style="visibility: visible; width: 120px; justify-content: center; align-items: center;">
                    Start Stream
                </button>
                <div style="display: flex; justify-content: center; align-items: center;">
                    <img id="image" width="70%" height="640px" style="visibility: hidden;" alt="Video capture could not be opened!">
                </div>
                <button id="imgButton" onclick="toggleImage(); cleaning_data();" 
                        style="visibility: hidden; width: 120px; justify-content: center; align-items: center;">
                    End Stream
                </button>
                <script src="{{ url_for('static', filename='js/script.js') }}">
                </script>
            </div>
        </div>
    </div>
</div>

<div id="loadingOverlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000;">
    <div style="position:absolute; top:50%; left:50%; transform:translate(-50%, -50%);">
        <p>Loading, please wait...</p>
        <!-- You can add a spinner or any loading animation here -->
    </div>
</div>

<script>
    document.getElementById('main_title').innerText = "Livestream: Drone POV";
</script>

{{data}}

{% endblock %}

<!-- <div class="mycontainer px-0 py-0 background-img">
    <div class="container p-0">
    <style>
        .container {
        width: 1200px;
        height: 1000px;
        }
    </style>
        <div class="row">   
            <div class="container">
                <h1 class="mb-4" id="thetitle" 
                        style="font-weight: bold; text-align: center; font-size: 15;">
                    DRONE POV !
                </h1>
                <button id="button" onclick="toggleImage()" 
                        style="width: 120px; justify-content: center; align-items: center;">
                    Start Stream
                </button>
                <div style="display: flex; justify-content: center; align-items: center;">
                <img id="image" width="70%" style="display: none;" alt="erro text">
                </div>
                <script src="{{ url_for('static', filename='js/script.js') }}">
                </script>
            </div>
        </div>
    </div>
</div>
<script>
    document.getElementById('main_title').innerText = "Livestream: Drone POV";
</script> -->